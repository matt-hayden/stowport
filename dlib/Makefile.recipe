STOWDEST ?= /usr/local/stow/dlib

build: update
	[ -d $@ ] || mkdir $@
	cd build && cmake -G"Ninja" \
		-D CMAKE_INSTALL_PREFIX=$(STOWDEST) \
		../SRC
	cd build && ninja install


debian-dep:
	sudo apt-get install -y \
		cmake ninja-build \
		libboost-python-dev libopenblas-dev liblapack-dev

fedora-dep:
	sudo dnf install -y \
		cmake ninja-build \
		boost-python3-devel cmake gcc-gfortran openblas-devel


SRC:
	git submodule add git://github.com/davisking/dlib.git $@
update: SRC
	git submodule update --init
