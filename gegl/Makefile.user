STOWDEST ?= /usr/local/stow/gimp-2.9

export ACLOCAL_FLAGS ?= -I /usr/local/share/aclocal
export PKG_CONFIG_PATH ?= /usr/local/lib/pkgconfig


debian-dep:
	sudo apt-get install -y intltool \
		libjson-glib-dev libjpeg-dev libpng12-dev libtiff5-dev libwebp-dev libgdk-pixbuf2.0-dev

fedora-dep:
	sudo dnf install -y gcc-c++ intltool \
		json-glib-devel libjpeg-turbo-devel libpng-devel libtiff-devel libwebp-devel gdk-pixbuf2-devel

gegl:
	git submodule add git://git.gnome.org/$@
update: gegl
	git submodule update --init
config: gegl
	cd gegl && sh autogen.sh --prefix=$(STOWDEST)
	sh gegl/configure --prefix=$(STOWDEST) \
		--disable-nls --disable-docs --disable-glibtest
